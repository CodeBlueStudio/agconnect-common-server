"use strict";var __importDefault=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},_this=this,configService_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConfigPollingTask=void 0,require("./configService")),events_1=__importDefault(require("events")),configConstants_1=require("./configConstants"),ConfigPollingTask=function(){function n(){}var t;return n.fire=function(n){this.eventEmitter.emit(n)},n.startTask=function(){null===n.pollingTask&&(n.pollingTask=setInterval(configService_1.ConfigService.loadCustomConfig,configConstants_1.ConfigConstants.POLLING_INTERVAL))},n.stopTask=function(){null!==n.pollingTask&&(clearInterval(n.pollingTask),n.pollingTask=null)},(t=n).eventEmitter=new events_1.default,n.pollingTask=null,n.eventEmitter.on(configConstants_1.ConfigConstants.POLLING_EVENT.START,t.startTask),n.eventEmitter.on(configConstants_1.ConfigConstants.POLLING_EVENT.STOP,t.stopTask),n}();exports.ConfigPollingTask=ConfigPollingTask;